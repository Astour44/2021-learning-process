<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
        integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <style>

    </style>

</head>

<body>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">id</th>
                <th scope="col">name</th>
                <th scope="col">salary</th>
                <th scope="col">bouns</th>
                <th scope="col">project</th>
                <th scope="col">bouns</th>
                <th scope="col">project</th>

            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>















    <!-- 先載入 -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
        integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2"
        crossorigin="anonymous"></script>
    <!-- 先載入 END-->

    <script>
        //若只有一筆資料用{}可以完成但有多筆資料時{}外面要再包一個[]
        $(document).ready(function () {
            myArr = [1, 3, 5, 7]

            const employeeDate = [{
                "id": 1,
                "name": 'amy',
                "address": '新北市萬華區',
                "mobile": '0911',
                "salary": 50000,
                "bouns": 10000,
                "project": ['a', 'b']
            },
            {
                "id": 2,
                "name": 'bob',
                "address": '新北市北投區',
                "mobile": '0912',
                "salary": 5000,
                "bouns": 1000,
                "project": ['b', 'c']
            },
            {
                "id": 3,
                "name": 'amy',
                "address": '新北市新莊區',
                "mobile": '0913',
                "salary": 500,
                "bouns": 100,
                "project": ['d', 'e'],

            },
            {
                "id": 4,
                "name": 'ara',
                "address": '新北市士林區',
                "mobile": '0914',
                "salary": 50,
                "bouns": 10,
                "project": ['d', 'e', 'm'],

            },

            {
                "id": 5,
                "name": 'potato',
                "address": '新北市中正區',
                "mobile": '0915',
                "salary": 5,
                "bouns": 1,
                "project": ['d', 'e', 'm','k'],

            }
            ]

            //這個陣列裡面第0個的name 薪水是 這個陣列裡面第0個的salary
            // console.log(employeeDate[0].name + '薪水是' + employeeDate[0].salary)
            // console.log(employeeDate[1].name + '薪水是' + employeeDate[1].salary)
            // console.log(employeeDate[2].name + '薪水是' + employeeDate[2].salary)




            //這邊是用length抓employeeDate裡面有幾個資料
            // console.log(employeeDate.length) 這邊抓出4

            //js的for迴圈 let是設定變數
            for (let i = 0; i < employeeDate.length; i++) {
                // str = i + "is" + myArr[i];
                //這邊用length抓employeeDate裡面的project裡面的資料數量 
                projectLength = employeeDate[i].project.length
                // console.log("projectLength", projectLength) 所以會是2/2/2/3

                //這邊要先設定一個空值 下面才跑得出來 
                //不然下面4行會用到projectLengthString 但沒東西就會說找不到projectLengthString
                projectLengthString = "";
                //將preject陣列內容抓出來 下面繞的時候就可以正常套用
                for (let j = 0; j < projectLength; j++) {
                    projectLengthString = projectLengthString + employeeDate[i].project[j];
                }
                // console.log('projectLengthString', projectLengthString);

                //這邊會將每個陣列的bouns*project的數量定義成 employeeDate[i].bxp
                employeeDate[i].bxp = employeeDate[i].bouns * employeeDate[i].project.length;
                //再來將employeeDate[i].bxp加上employeeDate[i].salary定義成employeeDate[i].sum
                employeeDate[i].sum = employeeDate[i].salary + employeeDate[i].bxp
                employeeDateDataString = `employeeDate+"[${i}]"`;
                console.log('employeeDateDataString', employeeDateDataString, employeeDate[i])






                //code start
                tbodyString =
                    `
            <tr>
                <td>${employeeDate[i].id}</td>
                <td>${employeeDate[i].name}</td>
                <td>${employeeDate[i].salary}</td>
                <td>${employeeDate[i].bouns}</td>
                <td>                   
                    ${projectLengthString}                    
                </td>
                <td>${employeeDate[i].bxp}</td>
                <td>${employeeDate[i].sum}</td>
            </tr>
`;
                $('tbody').append(tbodyString)
                //code end
                // console.log(str)
            }
            // console.log('employeeDate',employeeDate)

            //Q會計這個月要花多少錢
            //一樣先設定total=0這樣就會從0開始加 不然第一圈找不到total
            let total = 0;
            for (let i = 0; i < employeeDate.length; i++) {
                sum=employeeDate[i].sum
                total = sum+total
                
            }







        });

    </script>


</body>

</html>